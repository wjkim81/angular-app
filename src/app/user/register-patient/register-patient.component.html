<div class="container">
  <p>patientForm.value: {{patientForm.value | json}}</p>
  <p>formErrors: {{formErrors | json}}</p>
  <p>patientForm.valid: {{patientForm.valid}}</p>
  <div class="row">
    <form class="col-12" novalidate [formGroup]="patientForm" (ngSubmit)="submitPatient()" *ngIf=!(showPatientInfo)>
      <div class="row">
        <div class="col-12 col-md-8 boarder-solid">
          
          <div class="form-group row">
            <div class="col-12 col-sm-6">
              <h4>Patient information</h4>
            </div>
            <!--
            <label for="patientIdIn" class="col-12 col-sm-2 col-form-label">Patient ID</label>
            <div class="col-12 col-sm-4">
              <input type="text" class="form-control" id="patientIdIn" name="patientIdIn" placeholder="Patient ID">
            </div>
            -->
          </div>

          <div class="form-group row">
            <label for="birthdayIn" class="col-12 col-sm-2 col-form-label">Birthday</label>
            <!--<div class="input-group col-9">-->
            <div class="col-12 col-sm-4">
              <input type="date" class="form-control" id="birthdayIn" name="birthdayIn" formControlName="birthday">
              <div class="invalid-feedback">{{formErrors.birthday}}</div>
            </div>
            <label for="sexIn" class="col-12 col-sm-2 col-form-label">Sex</label>
            <div class="col-12 col-sm-4">
              <select class="form-control algin-item-center" id="sexIn" name="sexIn" formControlName="sex">
                <option *ngFor="let sex of sexes" [ngValue]="sex">{{sex}}</option>
              </select>
              <div class="invalid-feedback">{{formErrors.sex}}</div>
            </div>
          </div>

          <div class="form-group row">
            <label for="heightIn" class="col-12 col-sm-2 col-form-label">Height (cm)</label>
            <div class="col-12 col-sm-4">
              <input type="text" class="form-control {{(formErrors.height) ? 'is-invalid' : ''}}" id="heightIn" name="heightIn"
                placeholder="cm" formControlName="height" pattern="[0-9]*">
              <div class="invalid-feedback">{{formErrors.height}}</div>
            </div>
            <label for="weightIn" class="col-12 col-sm-2 col-form-label">Weight (kg)</label>
            <div class="col-12 col-sm-4">
              <input type="text" class="form-control {{(formErrors.weight) ? 'is-invalid' : ''}}" id="weightIn" name="weightIn"
                placeholder="kg" formControlName="weight" pattern="[0-9]*">
                <div class="invalid-feedback">{{formErrors.weight}}</div>
            </div>
          </div>
          <div class="form-group row">
            <label for="patientTypeIn" class="col-12 col-sm-2 col-form-label">Type</label>
            <div class="col-12 col-sm-4">
              <select class="form-control" id="patientTypeIn" name="patientTypeIn" formControlName="patientType">
                <option *ngFor="let patientType of patientTypes" [ngValue]="patientType">{{patientType}}</option>            
              </select>
              <!--<input type="text" class="form-control" id="registerTypeIn" name="registerTypeIn" placeholder="Type">-->
            </div>
            <label for="risserIn" class="col-12 col-sm-2 col-form-label">Risser sign</label>
            <div class="col-12 col-sm-4">
              <select class="form-control" id="risserIn" name="risserIn" formControlName="risser">
                <option *ngFor="let risser of rissers" [ngValue]="risser">{{risser}}</option>            
              </select>
              <!--<input type="text" class="form-control" id="registerLisserIn" name="registerLisserIn" placeholder="Lisser">-->
            </div>
          </div>
          
          <div class="form-group row">
            <label class="col-12 col-sm-12 col-md-2 col-form-label">Apex1</label>
            <div class="col-4 col-sm-2 col-md-2">
              <select class="form-control" id="apexStart1In" name="apexStart1In" formControlName="apexStart1">
                <option value="" disabled>SN</option>
                <option *ngFor="let apexStart1 of vertebralColumns" [ngValue]="apexStart1">{{apexStart1}}</option>
              </select>
              <!--<input type="text" class="form-control" id="registerSnLIn1" name="registerSnLIn1" placeholder="SN">-->
            </div>
            <div class="col-8 col-sm-4 col-md-3">
              <input type="text" class="form-control {{(formErrors.cobbAng1) ? 'is-invalid' : ''}}" id="cobbAngleIn1" name="cobbAngleIn1"
                placeholder="Cobb angle" formControlName="cobbAng1" pattern="[0-9]*">
              <div class="invalid-feedback">{{formErrors.cobbAng1}}</div>
            </div>
            <div class="col-4 col-sm-2 col-md-2">
              <select class="form-control" id="apexEnd1In" name="apexEnd1In" formControlName="apexEnd1">
                <option value="" disabled>SN</option>
                <option *ngFor="let apexEnd1 of vertebralColumns" [ngValue]="apexEnd1">{{apexEnd1}}</option>
              </select>
              <!--<input type="text" class="form-control" id="registerSnRIn1" name="registerSnRIn1" placeholder="SN">-->
            </div>
            <div class="col-8 col-sm-4 col-md-3">
              <select class="form-control" id="direction1In" name="direction1In" formControlName="direction1">
                <!--<option [value]="" disabled>Direction</option>-->
                <option *ngFor="let direction1 of directions" [ngValue]="direction1">{{direction1}}</option>
              </select>
              <!--<input type="text" class="form-control" id="registerDirectionIn1" name="registerDirectionIn1" placeholder="Direction">-->
            </div>
          </div>

          <div class="form-group row">
            <label class="col-12 col-sm-12 col-md-2 col-form-label">Apex2</label>
            <div class="col-4 col-sm-2 col-md-2">
              <select class="form-control" id="apexStart2In" name="apexStart2In">
                <!--<option value="" disabled>SN</option>-->
                <option *ngFor="let apexStart2 of vertebralColumns" [ngValue]="apexStart2">{{apexStart2}}</option>            
              </select>
              <!--<input type="text" class="form-control" id="registerSnLIn1" name="registerSnLIn1" placeholder="SN">-->
            </div>
            <div class="col-8 col-sm-4 col-md-3">
              <input type="text" class="form-control" id="cobbAng2In"  name="cobbAng2In"
                placeholder="Cobb angle" formControlName="cobbAng2" pattern="[0-9]*">
            </div>
            <div class="col-4 col-sm-2 col-md-2">
              <select class="form-control" id="apexEnd2In" name="apexEnd2In">
                <!--<option value="" disabled>SN</option>-->
                <option *ngFor="let apexEnd2 of vertebralColumns" [ngValue]="apexEnd2">{{apexEnd2}}</option>
              </select>
              <!--<input type="text" class="form-control" id="registerSnRIn1" name="registerSnRIn1" placeholder="SN">-->
            </div>
            <div class="col-8 col-sm-4 col-md-3">
              <select class="form-control" id="direction2In" name="direction2In" formControlName="direction2">
                <!--<option value="" disabled>Direction</option>-->
                <option *ngFor="let direction2 of directions" [ngValue]="direction2">{{direction2}}</option>
              </select>
              <!--<input type="text" class="form-control" id="registerDirectionIn1" name="registerDirectionIn1" placeholder="Direction">-->
            </div>
          </div>

          <div class="form-group row">
            <label class="col-12 col-sm-12 col-md-2 col-form-label">Apex3</label>
            <div class="col-4 col-sm-2 col-md-2">
              <select class="form-control" id="apexStart3In" name="apexStart3In">
                <!--<option value="" disabled>SN</option>-->
                <option *ngFor="let apexStart3 of vertebralColumns" [ngValue]="apexStart3">{{apexStart3}}</option>            
              </select>
              <!--<input type="text" class="form-control" id="registerSnLIn1" name="registerSnLIn1" placeholder="SN">-->
            </div>
            <div class="col-8 col-sm-4 col-md-3">
              <input type="text" class="form-control" id="cobbAng3In" name="cobbAng3In"
                placeholder="Cobb angle" formControlName="cobbAng3" pattern="[0-9]*">
            </div>
            <div class="col-4 col-sm-2 col-md-2">
              <select class="form-control" id="apexEnd3In" name="apexEnd3In">
                <!--<option value="" disabled>SN</option>-->
                <option *ngFor="let apexEnd3 of vertebralColumns" [ngValue]="apexEnd3">{{apexEnd3}}</option>
              </select>
              <!--<input type="text" class="form-control" id="registerSnRIn1" name="registerSnRIn1" placeholder="SN">-->
            </div>
            <div class="col-8 col-sm-4 col-md-3">
              <select class="form-control" id="direction3In" name="direction3In" formControlName="direction3">
               <!--<option [value]="" disabled>Direction</option>-->
                <option *ngFor="let direction3 of directions" [ngValue]="direction3">{{direction3}}</option>
              </select>
              <!--<input type="text" class="form-control" id="registerDirectionIn1" name="registerDirectionIn1" placeholder="Direction">-->
            </div>
          </div>
          
          <div class="form-group row">
            <label for="firstVisit" class="col-12 col-sm-2 col-form-label">First day of visit</label>
            <div class="col-12 col-sm-4">
              <input type="date" class="form-control" id="firstVisitIn" name="firstVisitIn" formControlName="firstVisit">
            </div>
          </div>

          <div class="form-group row">
            <label for="xRayFile" class="col-12 col-sm-2 col-form-label">X-ray file</label>
            <div class="col-12 col-sm-6">
              <input type="file" class="form-control-file" id="xRayFileIn" name="xRayFileIn" formControlName="xRayFile">
            </div>
          </div>

          <div class="form-group row">
            <label for="3dScanFile" class="col-12 col-sm-2 col-form-label">3D scan file</label>
            <div class="col-12 col-sm-6">
              <input type="file" class="form-control-file" id="3dScanFileIn" name="3dScanFileIn" formControlName="threeDScanFile">
            </div>
          </div>
        </div>

        <div class="col-12 col-md-4 boarder-solid">
          <h4 class="mb-4">Patient body information</h4>

          <div class="form-group row">
            <label for="shoulderIn" class="col-12 col-sm-3 col-form-label">Shoulder</label>
            <div class="col-12 col-sm-9">
              <input type="text" class="form-control {{(formErrors.shoulder) ? 'is-invalid' : ''}}" id="shoulderIn" name="shoulderIn"
                placeholder="cm" formControlName="shoulder" pattern="[0-9]*">
              <div class="invalid-feedback">{{formErrors.shoulder}}</div>
            </div>
          </div>

          <div class="form-group row">
            <label for="bustIn" class="col-12 col-sm-3 col-form-label">Bust</label>
            <div class="col-12 col-sm-9">
              <input type="text" class="form-control {{(formErrors.bust) ? 'is-invalid' : ''}}" id="bustIn" name="bustIn"
                placeholder="cm" formControlName="bust" pattern="[0-9]*">
              <div class="invalid-feedback">{{formErrors.bust}}</div>
            </div>
          </div>

          <div class="form-group row">
            <label for="waistIn" class="col-12 col-sm-3 col-form-label">Waist</label>
            <div class="col-12 col-sm-9">
              <input type="text" class="form-control {{(formErrors.waist) ? 'is-invalid' : ''}}" id="waistIn" name="waistIn"
                placeholder="cm" formControlName="waist" pattern="[0-9]*">
              <div class="invalid-feedback">{{formErrors.waist}}</div>
            </div>
          </div>

          <div class="form-group row">
            <label for="hipIn" class="col-12 col-sm-3 col-form-label">Hip</label>
            <div class="col-12 col-sm-9">
              <input type="text" class="form-control {{(formErrors.hip) ? 'is-invalid' : ''}}" id="hipIn" name="hipIn" 
                placeholder="cm" formControlName="hip" pattern="[0-9]*">
              <div class="invalid-feedback">{{formErrors.hip}}</div>
            </div>
          </div>

          <div class="form-group row">
            <label for="lumberIn" class="col-12 col-sm-3 col-form-label">Lumber</label>
            <div class="col-12 col-sm-9">
              <input type="text" class="form-control {{(formErrors.lumber) ? 'is-invalid' : ''}}" id="lumberIn" name="lumberIn"
                placeholder="cm" formControlName="lumber" pattern="[0-9]*">
              <div class="invalid-feedback">{{formErrors.lumber}}</div>
            </div>
          </div>

          <div class="form-group row">
            <label for="lumberHeightIn" class="col-12 col-sm-3 col-form-label">Lumber height</label>
            <div class="col-12 col-sm-9">
              <input type="text" class="form-control {{(formErrors.lumberHeight) ? 'is-invalid' : ''}}" id="lumberHeightIn" name="lumberHeightIn"
                placeholder="cm" formControlName="lumberHeight" pattern="[0-9]*">
              <div class="invalid-feedback">{{formErrors.lumberHeight}}</div>
            </div>
          </div>
        </div>

        <div class="col-12">
          <div class="form-group row mt-3">
            <div class="col-12 text-center">
              <button type="submit" class="btn {{patientForm.valid ? 'btn-primary' : 'btn-secondary'}}"
                id="submitPatient" [disabled]="patientForm.invalid">
                  SAVE
              </button>
            </div>
          </div>
        </div>
      </div>
    </form>

    <div *ngIf="showPatientInfo">
      <h3>New patient information</h3>
      <p>Birthday: {{newPatient.birthday}}</p>
      <p>Sex: {{newPatient.sex}}</p>
      <p>Height: {{newPatient.height}}</p>
      <p>Weight: {{newPatient.weight}}</p>
      <p>Patient Type: {{newPatient.patientType}}</p>
      <p>Risser sign: {{newPatient.risser}}</p>
        
      <p>Apex1 starts: {{newPatient.apexStart1}}</p>
      <p>Cobb angle: {{newPatient.cobbAng1}}</p>
      <p>Apex1 ends: {{newPatient.apexEnd1}}</p>
      <p>Direction: {{newPatient.direction1}}</p>

      <p>Cobb angle: {{newPatient.cobbAng2}}</p>
      <p>Apex2 ends: {{newPatient.apexEnd2}}</p>
      <p>Direction: {{newPatient.direction2}}</p>
        
      <p>Cobb angle: {{newPatient.cobbAng3}}</p>
      <p>Apex3 ends: {{newPatient.apexEnd3}}</p>
      <p>Direction: {{newPatient.direction3}}</p>
        
      <p>First day of visiting: {{newPatient.firstVisit}}</p>
      <p>X-ray file: {{newPatient.xRayFile}}</p>
      <p>3D Scand file: {{newPatient.threeDScanFile}}</p>
        
      <p>Shoulder: {{newPatient.shoulder}}</p>
      <p>Bust: {{newPatient.bust}}</p>
      <p>Waitst: {{newPatient.waist}}</p>
      <p>Hip: {{newPatient.hip}}</p>
      <p>Lumber: {{newPatient.lumber}}</p>
      <p>Lumber height: {{newPatient.lumberHeight}}</p>
      
    </div>

  </div>
</div><!-- container -->