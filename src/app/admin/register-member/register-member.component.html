<div class="container">

  <div *ngIf="orgsLoaded">
    <p>memberForm.value: {{memberForm.value | json}}</p>
    <p>formErrors: {{formErrors | json}}</p>
    <p>memberForm.valid: {{memberForm.valid}}</p>
  </div>

  <div class="row">
    
    <form class="col-12 text-right" novalidate [formGroup]="memberForm" (ngSubmit)="submitMember()" *ngIf="orgsLoaded && !(showMemberInfo)">

      <div class="form-group row align-items-center mb-3">
        <label for="username" class="col-12 offset-sm-2 col-sm-2 col-form-label">User Name*</label>
        <div class="col-12 col-sm-6">
          <input type="text" class="form-control {{(formErrors.username) ? 'is-invalid' : ''}}" id="username" placeholder="Enter user name" formControlName="username">
          <div class="invalid-feedback">{{formErrors.username}}</div>
        </div>
      </div>

      <div class="form-group row align-items-center mb-3">
        <label for="password" class="col-12 offset-sm-2 col-sm-2 col-form-label">Enter password*</label>
         <div class="col-12 col-sm-2">
          <input type="password" class="form-control {{(formErrors.password) ? 'is-invalid' : ''}}" id="password" formControlName="password">
          <div class="invalid-feedback">{{formErrors.password}}</div>
        </div>
        <label for="confirmPassword" class="col-12 col-sm-2 col-form-label">Confirm password*</label>
         <div class="col-12 col-sm-2">
          <input type="password" class="form-control {{(formErrors.confirmPassword) ? 'is-invalid' : ''}}" id="confirmPassword" formControlName="confirmPassword">
          <div class="invalid-feedback">{{formErrors.confirmPassword}}</div>
        </div>
      </div>

      <div class="form-group row align-items-center mb-3">
        <label for="firstname" class="col-12 offset-sm-2 col-sm-2 col-form-label">First Name*</label>
        <div class="col-12 col-sm-2">
          <input type="text" class="form-control {{(formErrors.firstname) ? 'is-invalid' : ''}}" id="firstname" formControlName="firstname">
            <div class="invalid-feedback">{{formErrors.firstname}}</div>
        </div>
        <label for="lastname" class="col-12 col-sm-2 col-form-label">Last Name*</label>
        <div class="col-12 col-sm-2">
          <input type="text" class="form-control {{(formErrors.lastname) ? 'is-invalid' : ''}}" id="lastname" formControlName="lastname">
            <div class="invalid-feedback">{{formErrors.lastname}}</div>
        </div>
      </div>

      <div class="form-group row align-items-center mb-3">
        <!--
        <label for="type" class="col-12 offset-sm-2 col-sm-2 col-form-label">Type*</label>
        <div class="col-12 col-sm-2">
          <select id="type" class="form-control {{(formErrors.type) ? 'is-invalid' : ''}}" formControlName="type">
            <option *ngFor="let type of typeOptions" [value]="type">{{type}}</option>
            <div class="invalid-feedback">{{formErrors.type}}</div>
          </select>
        </div>
        -->
        <label for="organization" class="col-12 offset-sm-2 col-sm-2 col-form-label">Organization*</label>
        <div class="col-12 col-sm-2">
          <select id="organization" class="form-control {{(formErrors.organization) ? 'is-invalid' : ''}}" formControlName="organization">
            <option *ngFor="let organization of organizations" [value]="organization._id">{{organization.name}}</option>
            <div class="invalid-feedback">{{formErrors.organization}}</div>
          </select>
        </div>
        <label for="subject" class="col-12 col-sm-2 col-form-label">Subject*</label>
        <div class="col-12 col-sm-2">
          <select id="subject" class="form-control {{(formErrors.subject) ? 'is-invalid' : ''}}" formControlName="subject">
            <option *ngFor="let subject of subjectOptions" [value]="subject">{{subject}}</option>
            <div class="invalid-feedback">{{formErrors.subject}}</div>
          </select>
        </div>
      </div>

      <!--
      <div class="form-group row align-items-center mb-3">
        <label for="country" class="col-12 offset-sm-2 col-sm-2 col-form-label">Country*</label>
        <div class="col-12 col-sm-2">
          <select id="country" class="form-control {{(formErrors.country) ? 'is-invalid' : ''}}" formControlName="country">
            <option *ngFor="let country of countryOptions" [value]="country">{{country}}</option>
            <div class="invalid-feedback">{{formErrors.country}}</div>
          </select>
        </div>
        
        <label for="city" class="col-12 col-sm-2 col-form-label">City*</label>
        <div class="col-12 col-sm-2">
          <input type="text" class="form-control {{(formErrors.city) ? 'is-invalid' : ''}}" id="city" formControlName="city">
          <div class="invalid-feedback">{{formErrors.city}}</div>
        </div>
        
      </div>
      -->
      <div class="form-group row align-items-center mb-3">
        <!--
        <label for="organization" class="col-12 offset-sm-2 col-sm-2 col-form-label">Organization*</label>
        <div class="col-12 col-sm-2">
          <select id="organization" class="form-control {{(formErrors.organization) ? 'is-invalid' : ''}}" formControlName="organization">
            <option *ngFor="let organization of orgNameOptions" [value]="organization">{{organization}}</option>
            <div class="invalid-feedback">{{formErrors.organization}}</div>
          </select>
        </div>
        -->
        
        <label for="city" class="col-12 offset-sm-2 col-sm-2 col-form-label">City*</label>
        <div class="col-12 col-sm-2">
          <input type="text" class="form-control {{(formErrors.city) ? 'is-invalid' : ''}}" id="city" formControlName="city">
          <div class="invalid-feedback">{{formErrors.city}}</div>
        </div>
        
        <label for="postCode" class="col-12 col-sm-2 col-form-label">Post code</label>
        <div class="col-12 col-sm-2">
          <input type="text" class="form-control" id="postCode" formControlName="postCode">
        </div>
      </div>

      <div class="form-group row align-items-center mb-3">
        <label for="address" class="col-12 offset-sm-2 col-sm-2 col-form-label">address*</label>
        <div class="col-12 col-sm-6">
          <input type="text" class="form-control {{(formErrors.address) ? 'is-invalid' : ''}}" id="address" formControlName="address">
          <div class="invalid-feedback">{{formErrors.address}}</div>
        </div>
      </div>

      <div class="form-group row align-items-center mb-3">
        <label for="managerName" class="col-12 offset-sm-2 col-sm-2 col-form-label">Manager Name</label>
        <div class="col-12 col-sm-6">
          <input type="text" class="form-control" id="managerName" formControlName="managerName">
        </div>
      </div>

      <div class="form-group row align-items-center mb-3">
        <label for="phoneNum" class="col-12 offset-sm-2 col-sm-2 col-form-label">Phone number*</label>
        <div class="col-12 col-sm-2">
          <input type="text" class="form-control {{(formErrors.phoneNum) ? 'is-invalid' : ''}}" id="phoneNum" formControlName="phoneNum">
          <div class="invalid-feedback">{{formErrors.phoneNum}}</div>
        </div>
        <label for="mobileNum" class="col-12 col-sm-2 col-form-label">Mobile number*</label>
        <div class="col-12 col-sm-2">
          <input type="text" class="form-control {{(formErrors.mobileNum) ? 'is-invalid' : ''}}" id="mobileNum" formControlName="mobileNum">
          <div class="invalid-feedback">{{formErrors.mobileNum}}</div>
        </div>
      </div>

      <div class="form-group row mb-3">
        <div class="col-12 text-center">
          <button type="submit" class="btn {{memberForm.valid ? 'btn-primary' : 'btn-secondary'}}" id="submitMember" [disabled]="memberForm.invalid">
            Save
          </button>
        </div>
      </div>
    </form>
    
    <div *ngIf="showMemberInfo">
      <h3>New member information</h3>
      <p>Register Status: {{status}}</p>
      <p>ID: {{newMember.username}}</p>
      <p>Password: {{newMember.password}}</p>
      <p>First Name: {{newMember.firstname}}</p>
      <p>Last Name: {{newMember.lastname}}</p>
      <p>Type: {{newMember.type}}</p>
      <p>Subject: {{newMember.subject}}</p>
      <p>Country: {{newMember.country}}</p>
      <p>City: {{newMember.city}}</p>
      <p>Location 1: {{newMember.address}}</p>
      <p>Location 2: {{newMember.organization}}</p>
      <p>Post Code: {{newMember.postCode}}</p>
      <p>Manager Name: {{newMember.manaerName}}</p>
      <p>Phone Num.: {{newMember.phoneNum}}</p>
      <p>Mobile Num.: {{newMember.mobileNum}}</p>
    </div>

  </div>

</div><!-- container -->